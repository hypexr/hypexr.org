<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ndxOperations.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3-rc1 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; </center>
<hr><h1>ndxOperations.cpp</h1><a href="ndxOperations_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">//Scott Rippee</span>
00002 <span class="comment">//CSci 151</span>
00003 
00004 <span class="preprocessor">#include "<a class="code" href="bibtool_8h.html">bibtool.h</a>"</span>
00005 <span class="preprocessor">#include "d_hash.h"</span>
00006 <span class="preprocessor">#include "d_hashf.h"</span>
00007 <span class="preprocessor">#include "d_timer.h"</span>
00008 
00009 <span class="keyword">using</span> <span class="keyword">namespace </span>std;
<a name="l00010"></a><a class="code" href="classIndexOperations.html#IndexOperationsa0">00010</a> 
00011 <span class="keywordtype">void</span> <a class="code" href="classIndexOperations.html#IndexOperationsa0">IndexOperations::searchBstreeIndex</a>( <a class="code" href="classBibtool.html">Bibtool</a> &amp;bib )
00012 {
00013         timer t;
00014         <span class="keywordtype">double</span> totalTime,aveTime,fastestTime,slowestTime,tempTime;
00015         <span class="keywordtype">int</span> count;
00016         totalTime = aveTime  = slowestTime = tempTime = count = 0;
00017         fastestTime = 9999999;
00018 
00019         <span class="keywordflow">for</span>( <span class="keywordtype">int</span> x=0; x &lt; bib.<a class="code" href="classBibtool.html#Bibtoolm11">searchNames_vec</a>.size(); x++ )
00020         {
00021                 string temp_key = bib.<a class="code" href="classBibtool.html#Bibtoolm11">searchNames_vec</a>[x].name;
00022 
00023                 <span class="comment">//get key name from bstree</span>
00024                 stree&lt;string&gt;::iterator treeIter;
00025                 treeIter = bib.<a class="code" href="classBibtool.html#Bibtoolm14">bstree</a>.<a class="code" href="classbstreeBibIndex.html#bstreeBibIndexm0">primaryNdx</a>.begin();
00026 
00027                 t.start();      <span class="comment">//start timer here</span>
00028                 treeIter = bib.<a class="code" href="classBibtool.html#Bibtoolm14">bstree</a>.<a class="code" href="classbstreeBibIndex.html#bstreeBibIndexm0">primaryNdx</a>.find( temp_key );
00029                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;10000000;i++);
00030                 t.stop();
00031                 tempTime = t.time();
00032 <span class="comment">//cout&lt;&lt; "timer says "&lt;&lt; tempTime&lt;&lt; endl;</span>
00033                 <span class="keywordflow">if</span>( tempTime &lt; fastestTime )
00034                         fastestTime= tempTime;
00035                 <span class="keywordflow">if</span>( tempTime &gt; slowestTime )
00036                         slowestTime = tempTime;
00037 
00038                 totalTime += tempTime;
00039                 count++;
00040 
00041                 <span class="keywordflow">if</span>( treeIter != bib.<a class="code" href="classBibtool.html#Bibtoolm14">bstree</a>.<a class="code" href="classbstreeBibIndex.html#bstreeBibIndexm0">primaryNdx</a>.end() )
00042                 {
00043                         <span class="comment">//cout&lt;&lt; "Found Key Name match: "&lt;&lt; *treeIter&lt;&lt; endl;</span>
00044                         bib.<a class="code" href="classBibtool.html#Bibtoolm11">searchNames_vec</a>[x].found = <span class="keyword">true</span>;
00045                         <span class="comment">//bitOffset is in character Index</span>
00046                         <span class="comment">//searchNames_vec[x].byteOffset = characterIndex;</span>
00047                         <span class="comment">//currentBibFileName constain the file name to be written to .out</span>
00048                         bib.<a class="code" href="classBibtool.html#Bibtoolm11">searchNames_vec</a>[x].fileName = bib.<a class="code" href="classBibtool.html#Bibtoolm9">currentBibFileName</a>;
00049                 }
00050         }
00051         aveTime = totalTime / count;
00052         cout&lt;&lt; endl&lt;&lt; <span class="stringliteral">"Binary Search Tree times for Key Name:"</span>&lt;&lt;endl;
00053         cout&lt;&lt; <span class="stringliteral">"Best time:\t"</span>&lt;&lt; fastestTime&lt;&lt; endl;
00054         cout&lt;&lt; <span class="stringliteral">"Worst time:\t"</span>&lt;&lt; slowestTime&lt;&lt; endl;
00055         cout&lt;&lt; <span class="stringliteral">"Average time:\t"</span>&lt;&lt; aveTime&lt;&lt; endl;
00056 
00057         totalTime = aveTime  = slowestTime = tempTime = count = 0;
00058         fastestTime = 9999999;
00059 
00060         <span class="keywordflow">for</span>( <span class="keywordtype">int</span> x=0; x &lt; bib.<a class="code" href="classBibtool.html#Bibtoolm12">searchNamesAuth_vec</a>.size(); x++ )
00061         {
00062                 string temp_key = bib.<a class="code" href="classBibtool.html#Bibtoolm12">searchNamesAuth_vec</a>[x].name;
00063 
00064                 <span class="comment">//get key name from bstree</span>
00065                 stree&lt;string&gt;::iterator treeIter;
00066                 treeIter = bib.<a class="code" href="classBibtool.html#Bibtoolm14">bstree</a>.<a class="code" href="classbstreeBibIndex.html#bstreeBibIndexm1">authorNdx</a>.begin();
00067 
00068                 t.start();      <span class="comment">//start timer here</span>
00069                 treeIter = bib.<a class="code" href="classBibtool.html#Bibtoolm14">bstree</a>.<a class="code" href="classbstreeBibIndex.html#bstreeBibIndexm1">authorNdx</a>.find( temp_key );
00070                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;10000000;i++);
00071                 t.stop();
00072                 tempTime = t.time();
00073 <span class="comment">//cout&lt;&lt; "timer says "&lt;&lt; tempTime&lt;&lt; endl;</span>
00074                 <span class="keywordflow">if</span>( tempTime &lt; fastestTime )
00075                         fastestTime= tempTime;
00076                 <span class="keywordflow">if</span>( tempTime &gt; slowestTime )
00077                         slowestTime = tempTime;
00078 
00079                 totalTime += tempTime;
00080                 count++;
00081 
00082                 <span class="keywordflow">if</span>( treeIter != bib.<a class="code" href="classBibtool.html#Bibtoolm14">bstree</a>.<a class="code" href="classbstreeBibIndex.html#bstreeBibIndexm0">primaryNdx</a>.end() )
00083                 {
00084                         <span class="comment">//cout&lt;&lt; "Found Author Name match: "&lt;&lt; *treeIter&lt;&lt; endl;</span>
00085                         bib.<a class="code" href="classBibtool.html#Bibtoolm12">searchNamesAuth_vec</a>[x].found = <span class="keyword">true</span>;
00086                         <span class="comment">//bitOffset is in character Index</span>
00087                         <span class="comment">//searchNames_vec[x].byteOffset = characterIndex;</span>
00088                         <span class="comment">//currentBibFileName constain the file name to be written to .out</span>
00089                         bib.<a class="code" href="classBibtool.html#Bibtoolm12">searchNamesAuth_vec</a>[x].fileName = bib.<a class="code" href="classBibtool.html#Bibtoolm9">currentBibFileName</a>;
00090                 }
00091         }
00092         aveTime = totalTime / count;
00093         cout&lt;&lt; endl&lt;&lt; <span class="stringliteral">"Binary Search Tree times for Author Names:"</span>&lt;&lt;endl;
00094         cout&lt;&lt; <span class="stringliteral">"Best time:\t"</span>&lt;&lt; fastestTime&lt;&lt; endl;
00095         cout&lt;&lt; <span class="stringliteral">"Worst time:\t"</span>&lt;&lt; slowestTime&lt;&lt; endl;
00096         cout&lt;&lt; <span class="stringliteral">"Average time:\t"</span>&lt;&lt; aveTime&lt;&lt; endl;
00097 
00098         totalTime = aveTime  = slowestTime = tempTime = count = 0;
00099         fastestTime = 9999999;
00100 
00101         <span class="keywordflow">for</span>( <span class="keywordtype">int</span> x=0; x &lt; bib.<a class="code" href="classBibtool.html#Bibtoolm13">searchNamesTitle_vec</a>.size(); x++ )
00102         {
00103                 string temp_key = bib.<a class="code" href="classBibtool.html#Bibtoolm13">searchNamesTitle_vec</a>[x].name;
00104 
00105                 <span class="comment">//get key name from bstree</span>
00106                 stree&lt;string&gt;::iterator treeIter;
00107                 treeIter = bib.<a class="code" href="classBibtool.html#Bibtoolm14">bstree</a>.<a class="code" href="classbstreeBibIndex.html#bstreeBibIndexm2">titleNdx</a>.begin();
00108 
00109                 t.start();      <span class="comment">//start timer here</span>
00110                 treeIter = bib.<a class="code" href="classBibtool.html#Bibtoolm14">bstree</a>.<a class="code" href="classbstreeBibIndex.html#bstreeBibIndexm2">titleNdx</a>.find( temp_key );
00111                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;10000000;i++);
00112                 t.stop();
00113                 tempTime = t.time();
00114 <span class="comment">//cout&lt;&lt; "timer says "&lt;&lt; tempTime&lt;&lt; endl;</span>
00115                 <span class="keywordflow">if</span>( tempTime &lt; fastestTime )
00116                         fastestTime= tempTime;
00117                 <span class="keywordflow">if</span>( tempTime &gt; slowestTime )
00118                         slowestTime = tempTime;
00119 
00120                 totalTime += tempTime;
00121                 count++;
00122 
00123                 <span class="keywordflow">if</span>( treeIter != bib.<a class="code" href="classBibtool.html#Bibtoolm14">bstree</a>.<a class="code" href="classbstreeBibIndex.html#bstreeBibIndexm0">primaryNdx</a>.end() )
00124                 {
00125                         <span class="comment">//cout&lt;&lt; "Found Key Name match: "&lt;&lt; *treeIter&lt;&lt; endl;</span>
00126                         bib.<a class="code" href="classBibtool.html#Bibtoolm13">searchNamesTitle_vec</a>[x].found = <span class="keyword">true</span>;
00127                         <span class="comment">//bitOffset is in character Index</span>
00128                         <span class="comment">//searchNames_vec[x].byteOffset = characterIndex;</span>
00129                         <span class="comment">//currentBibFileName constain the file name to be written to .out</span>
00130                         bib.<a class="code" href="classBibtool.html#Bibtoolm13">searchNamesTitle_vec</a>[x].fileName = bib.<a class="code" href="classBibtool.html#Bibtoolm9">currentBibFileName</a>;
00131                 }
00132         }
00133         aveTime = totalTime / count;
00134         cout&lt;&lt; endl&lt;&lt; <span class="stringliteral">"Binary Search Tree times for Title Names:"</span>&lt;&lt;endl;
00135         cout&lt;&lt; <span class="stringliteral">"Best time:\t"</span>&lt;&lt; fastestTime&lt;&lt; endl;
00136         cout&lt;&lt; <span class="stringliteral">"Worst time:\t"</span>&lt;&lt; slowestTime&lt;&lt; endl;
00137         cout&lt;&lt; <span class="stringliteral">"Average time:\t"</span>&lt;&lt; aveTime&lt;&lt; endl;
00138 
00139 }
00140 
<a name="l00141"></a><a class="code" href="classIndexOperations.html#IndexOperationsa1">00141</a> 
00142 <span class="keywordtype">void</span> <a class="code" href="classIndexOperations.html#IndexOperationsa1">IndexOperations::searchRbtreeIndex</a>( <a class="code" href="classBibtool.html">Bibtool</a> &amp;bib )
00143 {
00144         timer t;
00145         <span class="keywordtype">double</span> totalTime,aveTime,fastestTime,slowestTime,tempTime;
00146         <span class="keywordtype">int</span> count;
00147         totalTime = aveTime  = slowestTime = tempTime = count = 0;
00148         fastestTime = 9999999;
00149 
00150         <span class="keywordflow">for</span>( <span class="keywordtype">int</span> x=0; x &lt; bib.<a class="code" href="classBibtool.html#Bibtoolm11">searchNames_vec</a>.size(); x++ )
00151         {
00152                 string temp_key = bib.<a class="code" href="classBibtool.html#Bibtoolm11">searchNames_vec</a>[x].name;
00153 
00154                 <span class="comment">//get key name from bstree</span>
00155                 rbtree&lt;string&gt;::iterator treeIter;
00156                 treeIter = bib.<a class="code" href="classBibtool.html#Bibtoolm15">rbtree</a>.<a class="code" href="classrbtreeBibIndex.html#rbtreeBibIndexm0">primaryNdx</a>.begin();
00157 
00158                 t.start();      <span class="comment">//start timer here</span>
00159                 treeIter = bib.<a class="code" href="classBibtool.html#Bibtoolm15">rbtree</a>.<a class="code" href="classrbtreeBibIndex.html#rbtreeBibIndexm0">primaryNdx</a>.find( temp_key );
00160                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;10000000;i++);
00161                 t.stop();
00162                 tempTime = t.time();
00163 <span class="comment">//cout&lt;&lt; "timer says "&lt;&lt; tempTime&lt;&lt; endl;</span>
00164                 <span class="keywordflow">if</span>( tempTime &lt; fastestTime )
00165                         fastestTime= tempTime;
00166                 <span class="keywordflow">if</span>( tempTime &gt; slowestTime )
00167                         slowestTime = tempTime;
00168 
00169                 totalTime += tempTime;
00170                 count++;
00171 
00172                 <span class="keywordflow">if</span>( treeIter != bib.<a class="code" href="classBibtool.html#Bibtoolm15">rbtree</a>.<a class="code" href="classrbtreeBibIndex.html#rbtreeBibIndexm0">primaryNdx</a>.end() )
00173                 {
00174                         <span class="comment">//cout&lt;&lt; "Found Key Name match: "&lt;&lt; *treeIter&lt;&lt; endl;</span>
00175                         bib.<a class="code" href="classBibtool.html#Bibtoolm11">searchNames_vec</a>[x].found = <span class="keyword">true</span>;
00176                         <span class="comment">//bitOffset is in character Index</span>
00177                         <span class="comment">//searchNames_vec[x].byteOffset = characterIndex;</span>
00178                         <span class="comment">//currentBibFileName constain the file name to be written to .out</span>
00179                         bib.<a class="code" href="classBibtool.html#Bibtoolm11">searchNames_vec</a>[x].fileName = bib.<a class="code" href="classBibtool.html#Bibtoolm9">currentBibFileName</a>;
00180                 }
00181         }
00182         aveTime = totalTime / count;
00183         cout&lt;&lt; endl&lt;&lt; endl&lt;&lt; <span class="stringliteral">"Red Black Search Tree times for Key Name:"</span>&lt;&lt;endl;
00184         cout&lt;&lt; <span class="stringliteral">"Best time:\t"</span>&lt;&lt; fastestTime&lt;&lt; endl;
00185         cout&lt;&lt; <span class="stringliteral">"Worst time:\t"</span>&lt;&lt; slowestTime&lt;&lt; endl;
00186         cout&lt;&lt; <span class="stringliteral">"Average time:\t"</span>&lt;&lt; aveTime&lt;&lt; endl;
00187 <span class="comment"></span>
00188 <span class="comment">        ///////Authors</span>
00189 <span class="comment"></span>        totalTime = aveTime  = slowestTime = tempTime = count = 0;
00190         fastestTime = 9999999;
00191 
00192         <span class="keywordflow">for</span>( <span class="keywordtype">int</span> x=0; x &lt; bib.<a class="code" href="classBibtool.html#Bibtoolm12">searchNamesAuth_vec</a>.size(); x++ )
00193         {
00194                 string temp_key = bib.<a class="code" href="classBibtool.html#Bibtoolm12">searchNamesAuth_vec</a>[x].name;
00195 
00196                 <span class="comment">//get key name from bstree</span>
00197                 rbtree&lt;string&gt;::iterator treeIter;
00198                 treeIter = bib.<a class="code" href="classBibtool.html#Bibtoolm15">rbtree</a>.<a class="code" href="classrbtreeBibIndex.html#rbtreeBibIndexm0">primaryNdx</a>.begin();
00199 
00200                 t.start();      <span class="comment">//start timer here</span>
00201                 treeIter = bib.<a class="code" href="classBibtool.html#Bibtoolm15">rbtree</a>.<a class="code" href="classrbtreeBibIndex.html#rbtreeBibIndexm0">primaryNdx</a>.find( temp_key );
00202                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;10000000;i++);
00203                 t.stop();
00204                 tempTime = t.time();
00205 <span class="comment">//cout&lt;&lt; "timer says "&lt;&lt; tempTime&lt;&lt; endl;</span>
00206                 <span class="keywordflow">if</span>( tempTime &lt; fastestTime )
00207                         fastestTime= tempTime;
00208                 <span class="keywordflow">if</span>( tempTime &gt; slowestTime )
00209                         slowestTime = tempTime;
00210 
00211                 totalTime += tempTime;
00212                 count++;
00213 
00214                 <span class="keywordflow">if</span>( treeIter != bib.<a class="code" href="classBibtool.html#Bibtoolm15">rbtree</a>.<a class="code" href="classrbtreeBibIndex.html#rbtreeBibIndexm0">primaryNdx</a>.end() )
00215                 {
00216                         <span class="comment">//cout&lt;&lt; "Found Key Name match: "&lt;&lt; *treeIter&lt;&lt; endl;</span>
00217                         bib.<a class="code" href="classBibtool.html#Bibtoolm12">searchNamesAuth_vec</a>[x].found = <span class="keyword">true</span>;
00218                         <span class="comment">//bitOffset is in character Index</span>
00219                         <span class="comment">//searchNames_vec[x].byteOffset = characterIndex;</span>
00220                         <span class="comment">//currentBibFileName constain the file name to be written to .out</span>
00221                         bib.<a class="code" href="classBibtool.html#Bibtoolm12">searchNamesAuth_vec</a>[x].fileName = bib.<a class="code" href="classBibtool.html#Bibtoolm9">currentBibFileName</a>;
00222                 }
00223         }
00224         aveTime = totalTime / count;
00225         cout&lt;&lt; endl&lt;&lt; <span class="stringliteral">"Red Black Search Tree times for Author Name:"</span>&lt;&lt;endl;
00226         cout&lt;&lt; <span class="stringliteral">"Best time:\t"</span>&lt;&lt; fastestTime&lt;&lt; endl;
00227         cout&lt;&lt; <span class="stringliteral">"Worst time:\t"</span>&lt;&lt; slowestTime&lt;&lt; endl;
00228         cout&lt;&lt; <span class="stringliteral">"Average time:\t"</span>&lt;&lt; aveTime&lt;&lt; endl;
00229 <span class="comment"></span>
00230 <span class="comment">        //////titles</span>
00231 <span class="comment"></span>        totalTime = aveTime  = slowestTime = tempTime = count = 0;
00232         fastestTime = 9999999;
00233 
00234         <span class="keywordflow">for</span>( <span class="keywordtype">int</span> x=0; x &lt; bib.<a class="code" href="classBibtool.html#Bibtoolm13">searchNamesTitle_vec</a>.size(); x++ )
00235         {
00236                 string temp_key = bib.<a class="code" href="classBibtool.html#Bibtoolm13">searchNamesTitle_vec</a>[x].name;
00237 
00238                 <span class="comment">//get key name from bstree</span>
00239                 rbtree&lt;string&gt;::iterator treeIter;
00240                 treeIter = bib.<a class="code" href="classBibtool.html#Bibtoolm15">rbtree</a>.<a class="code" href="classrbtreeBibIndex.html#rbtreeBibIndexm0">primaryNdx</a>.begin();
00241 
00242                 t.start();      <span class="comment">//start timer here</span>
00243                 treeIter = bib.<a class="code" href="classBibtool.html#Bibtoolm15">rbtree</a>.<a class="code" href="classrbtreeBibIndex.html#rbtreeBibIndexm0">primaryNdx</a>.find( temp_key );
00244                 <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0; i&lt;10000000;i++);
00245                 t.stop();
00246                 tempTime = t.time();
00247 <span class="comment">//cout&lt;&lt; "timer says "&lt;&lt; tempTime&lt;&lt; endl;</span>
00248                 <span class="keywordflow">if</span>( tempTime &lt; fastestTime )
00249                         fastestTime= tempTime;
00250                 <span class="keywordflow">if</span>( tempTime &gt; slowestTime )
00251                         slowestTime = tempTime;
00252 
00253                 totalTime += tempTime;
00254                 count++;
00255 
00256                 <span class="keywordflow">if</span>( treeIter != bib.<a class="code" href="classBibtool.html#Bibtoolm15">rbtree</a>.<a class="code" href="classrbtreeBibIndex.html#rbtreeBibIndexm0">primaryNdx</a>.end() )
00257                 {
00258                         <span class="comment">//cout&lt;&lt; "Found Key Name match: "&lt;&lt; *treeIter&lt;&lt; endl;</span>
00259                         bib.<a class="code" href="classBibtool.html#Bibtoolm13">searchNamesTitle_vec</a>[x].found = <span class="keyword">true</span>;
00260                         <span class="comment">//bitOffset is in character Index</span>
00261                         <span class="comment">//searchNames_vec[x].byteOffset = characterIndex;</span>
00262                         <span class="comment">//currentBibFileName constain the file name to be written to .out</span>
00263                         bib.<a class="code" href="classBibtool.html#Bibtoolm13">searchNamesTitle_vec</a>[x].fileName = bib.<a class="code" href="classBibtool.html#Bibtoolm9">currentBibFileName</a>;
00264                 }
00265         }
00266         aveTime = totalTime / count;
00267         cout&lt;&lt; endl&lt;&lt; <span class="stringliteral">"Red Black Search Tree times for Title Name:"</span>&lt;&lt;endl;
00268         cout&lt;&lt; <span class="stringliteral">"Best time:\t"</span>&lt;&lt; fastestTime&lt;&lt; endl;
00269         cout&lt;&lt; <span class="stringliteral">"Worst time:\t"</span>&lt;&lt; slowestTime&lt;&lt; endl;
00270         cout&lt;&lt; <span class="stringliteral">"Average time:\t"</span>&lt;&lt; aveTime&lt;&lt; endl&lt;&lt; endl;
00271 
00272 }
00273 
00274 
00275 <span class="comment">/*void IndexOperations::searchHashIndex( Bibtool &amp;bib )</span>
00276 <span class="comment">{</span>
00277 <span class="comment">        timer t;</span>
00278 <span class="comment">        double totalTime,aveTime,fastestTime,slowestTime,tempTime;</span>
00279 <span class="comment">        int count;</span>
00280 <span class="comment">        totalTime = aveTime  = slowestTime = tempTime = count = 0;</span>
00281 <span class="comment">        fastestTime = 9999999;</span>
00282 <span class="comment"></span>
00283 <span class="comment">        for( int x=0; x &lt; bib.searchNames_vec.size(); x++ )</span>
00284 <span class="comment">        {</span>
00285 <span class="comment">                string temp_key = bib.searchNames_vec[x].name;</span>
00286 <span class="comment"></span>
00287 <span class="comment">                //get key name from bstree</span>
00288 <span class="comment">                hash&lt;string,hFstring&gt;::iterator hashIter;</span>
00289 <span class="comment">                hashIter = hashtb.PrimaryNdx.begin();</span>
00290 <span class="comment"></span>
00291 <span class="comment">                t.start();      //start timer here</span>
00292 <span class="comment">                hashIter = hashtb.PrimaryNdx.find( temp_key );</span>
00293 <span class="comment">                for(int i=0; i&lt;1000000;i++);</span>
00294 <span class="comment">                t.stop();</span>
00295 <span class="comment">                tempTime = t.time();</span>
00296 <span class="comment">//cout&lt;&lt; "timer says "&lt;&lt; tempTime&lt;&lt; endl;</span>
00297 <span class="comment">                if( tempTime &lt; fastestTime )</span>
00298 <span class="comment">                        fastestTime= tempTime;</span>
00299 <span class="comment">                if( tempTime &gt; slowestTime )</span>
00300 <span class="comment">                        slowestTime = tempTime;</span>
00301 <span class="comment"></span>
00302 <span class="comment">                totalTime += tempTime;</span>
00303 <span class="comment">                count++;</span>
00304 <span class="comment"></span>
00305 <span class="comment">                if( hashIter != hashtb.primaryNdx.end() )</span>
00306 <span class="comment">                {</span>
00307 <span class="comment">                        //cout&lt;&lt; "Found Key Name match: "&lt;&lt; *treeIter&lt;&lt; endl;</span>
00308 <span class="comment">                        bib.searchNames_vec[x].found = true;</span>
00309 <span class="comment">                        //bitOffset is in character Index</span>
00310 <span class="comment">                        //searchNames_vec[x].byteOffset = characterIndex;</span>
00311 <span class="comment">                        //currentBibFileName constain the file name to be written to .out</span>
00312 <span class="comment">                        bib.searchNames_vec[x].fileName = bib.currentBibFileName;</span>
00313 <span class="comment">                }</span>
00314 <span class="comment">        }</span>
00315 <span class="comment">        aveTime = totalTime / count;</span>
00316 <span class="comment">        cout&lt;&lt; endl&lt;&lt; "Hash Table times for Key Name:"&lt;&lt;endl;</span>
00317 <span class="comment">        cout&lt;&lt; "Best time:\t"&lt;&lt; fastestTime&lt;&lt; endl;</span>
00318 <span class="comment">        cout&lt;&lt; "Worst time:\t"&lt;&lt; slowestTime&lt;&lt; endl;</span>
00319 <span class="comment">        cout&lt;&lt; "Average time:\t"&lt;&lt; aveTime&lt;&lt; endl;</span>
00320 <span class="comment"></span>
00321 <span class="comment">        totalTime = aveTime  = slowestTime = tempTime = count = 0;</span>
00322 <span class="comment">        fastestTime = 9999999;</span>
00323 <span class="comment"></span>
00324 <span class="comment">        for( int x=0; x &lt; bib.searchNamesAuth_vec.size(); x++ )</span>
00325 <span class="comment">        {</span>
00326 <span class="comment">                string temp_key = bib.searchNamesAuth_vec[x].name;</span>
00327 <span class="comment"></span>
00328 <span class="comment">                //get key name from bstree</span>
00329 <span class="comment">                hash&lt;string,hFstring&gt;::iterator hashIter;</span>
00330 <span class="comment">                hashIter = hashtb.PrimaryNdx.begin();</span>
00331 <span class="comment"></span>
00332 <span class="comment">                t.start();      //start timer here</span>
00333 <span class="comment">                hashIter = hashtb.PrimaryNdx.find( temp_key );</span>
00334 <span class="comment">                for(int i=0; i&lt;1000000;i++);</span>
00335 <span class="comment">                t.stop();</span>
00336 <span class="comment">                tempTime = t.time();</span>
00337 <span class="comment">//cout&lt;&lt; "timer says "&lt;&lt; tempTime&lt;&lt; endl;</span>
00338 <span class="comment">                if( tempTime &lt; fastestTime )</span>
00339 <span class="comment">                        fastestTime= tempTime;</span>
00340 <span class="comment">                if( tempTime &gt; slowestTime )</span>
00341 <span class="comment">                        slowestTime = tempTime;</span>
00342 <span class="comment"></span>
00343 <span class="comment">                totalTime += tempTime;</span>
00344 <span class="comment">                count++;</span>
00345 <span class="comment"></span>
00346 <span class="comment">                if( hashIter != hashtb.primaryNdx.end() )</span>
00347 <span class="comment">                {</span>
00348 <span class="comment">                        //cout&lt;&lt; "Found Key Name match: "&lt;&lt; *treeIter&lt;&lt; endl;</span>
00349 <span class="comment">                        bib.searchNamesAuth_vec[x].found = true;</span>
00350 <span class="comment">                        //bitOffset is in character Index</span>
00351 <span class="comment">                        //searchNamesAuth_vec[x].byteOffset = characterIndex;</span>
00352 <span class="comment">                        //currentBibFileName constain the file name to be written to .out</span>
00353 <span class="comment">                        bib.searchNamesAuth_vec[x].fileName = bib.currentBibFileName;</span>
00354 <span class="comment">                }</span>
00355 <span class="comment">        }</span>
00356 <span class="comment">        aveTime = totalTime / count;</span>
00357 <span class="comment">        cout&lt;&lt; endl&lt;&lt; "Hash Table times for Key Name:"&lt;&lt;endl;</span>
00358 <span class="comment">        cout&lt;&lt; "Best time:\t"&lt;&lt; fastestTime&lt;&lt; endl;</span>
00359 <span class="comment">        cout&lt;&lt; "Worst time:\t"&lt;&lt; slowestTime&lt;&lt; endl;</span>
00360 <span class="comment">        cout&lt;&lt; "Average time:\t"&lt;&lt; aveTime&lt;&lt; endl;</span>
00361 <span class="comment"></span>
00362 <span class="comment">        totalTime = aveTime  = slowestTime = tempTime = count = 0;</span>
00363 <span class="comment">        fastestTime = 9999999;</span>
00364 <span class="comment"></span>
00365 <span class="comment">        for( int x=0; x &lt; bib.searchNames_vec.size(); x++ )</span>
00366 <span class="comment">        {</span>
00367 <span class="comment">                string temp_key = bib.searchNamesTitle_vec[x].name;</span>
00368 <span class="comment"></span>
00369 <span class="comment">                //get key name from bstree</span>
00370 <span class="comment">                hash&lt;string,hFstring&gt;::iterator hashIter;</span>
00371 <span class="comment">                hashIter = hashtb.PrimaryNdx.begin();</span>
00372 <span class="comment"></span>
00373 <span class="comment">                t.start();      //start timer here</span>
00374 <span class="comment">                hashIter = hashtb.PrimaryNdx.find( temp_key );</span>
00375 <span class="comment">                for(int i=0; i&lt;1000000;i++);</span>
00376 <span class="comment">                t.stop();</span>
00377 <span class="comment">                tempTime = t.time();</span>
00378 <span class="comment">//cout&lt;&lt; "timer says "&lt;&lt; tempTime&lt;&lt; endl;</span>
00379 <span class="comment">                if( tempTime &lt; fastestTime )</span>
00380 <span class="comment">                        fastestTime= tempTime;</span>
00381 <span class="comment">                if( tempTime &gt; slowestTime )</span>
00382 <span class="comment">                        slowestTime = tempTime;</span>
00383 <span class="comment"></span>
00384 <span class="comment">                totalTime += tempTime;</span>
00385 <span class="comment">                count++;</span>
00386 <span class="comment"></span>
00387 <span class="comment">                if( hashIter != hashtb.primaryNdx.end() )</span>
00388 <span class="comment">                {</span>
00389 <span class="comment">                        //cout&lt;&lt; "Found Key Name match: "&lt;&lt; *treeIter&lt;&lt; endl;</span>
00390 <span class="comment">                        bib.searchNamesTitle_vec[x].found = true;</span>
00391 <span class="comment">                        //bitOffset is in character Index</span>
00392 <span class="comment">                        //searchNames_vec[x].byteOffset = characterIndex;</span>
00393 <span class="comment">                        //currentBibFileName constain the file name to be written to .out</span>
00394 <span class="comment">                        bib.searchNamesTitle_vec[x].fileName = bib.currentBibFileName;</span>
00395 <span class="comment">                }</span>
00396 <span class="comment">        }</span>
00397 <span class="comment">        aveTime = totalTime / count;</span>
00398 <span class="comment">        cout&lt;&lt; endl&lt;&lt; "Hash Table times for Key Name:"&lt;&lt;endl;</span>
00399 <span class="comment">        cout&lt;&lt; "Best time:\t"&lt;&lt; fastestTime&lt;&lt; endl;</span>
00400 <span class="comment">        cout&lt;&lt; "Worst time:\t"&lt;&lt; slowestTime&lt;&lt; endl;</span>
00401 <span class="comment">        cout&lt;&lt; "Average time:\t"&lt;&lt; aveTime&lt;&lt; endl;</span>
00402 <span class="comment"></span>
00403 <span class="comment"></span>
00404 <span class="comment">}*/</span>
</pre></div><hr><address style="align: right;"><small>Generated on Thu Apr 17 05:03:42 2003 for bibtool by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.3-rc1 </small></address>
</body>
</html>
